
  <!DOCTYPE html>
<html lang="en" data-accent-color="violet" data-content_root="../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Advanced - BitCash 1.1.0 documentation</title>
    <link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Frequently Asked Questions" href="../community/faq.html" /><link rel="prev" title="Fees" href="fees.html" />

  <script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(sessionStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=aecf457f" />
    <link rel="stylesheet" type="text/css" href="../_static/shibuya.css?v=aef655f6" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link media="print" rel="stylesheet" type="text/css" href="../_static/print.css?v=20ff2c19" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/><meta property="og:title" content="Advanced"/>
<meta name="twitter:card" content="summary"/>
  </head>
<body><div class="document"><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand mr-4" href="../index.html">
      
      
      <strong>BitCash</strong>
    </a>
    <div class="sy-head-links" id="NavLinks">
      <nav class="sy-head-nav"></nav>
      <div class="sy-head-extra flex items-center print:hidden">
        
<form class="searchbox flex items-center" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form>
        
        
        <div class="sy-head-socials flex items-center">
    <a href="https://github.com/pybitcash/bitcash" aria-label="GitHub">
      <i class="i-simpleicons github"></i>
    </a>
  <a href="https://twitter.com/merc1er" aria-label="X (Twitter)">
    <i class="i-simpleicons x-twitter"></i>
  </a>
</div>
      </div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden">
      <button class="js-theme theme-switch flex items-center"
        data-aria-auto="Switch to light color mode"
        data-aria-light="Switch to dark color mode"
        data-aria-dark="Switch to auto color mode">
        <i class="i-lucid theme-icon"></i>
      </button>
      <button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="NavLinks" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2 -translate-x-2"></span>
          <span class="hamburger_3 -translate-x-1"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
<div class="sidebar-links">
  <ul>
    <li><a class="icon-link" href="https://t.me/pybitcash">
  <span class="icon">
    <svg viewBox="0 0 24 24" fill="none">
      <path fill="var(--accent-9)" fill-rule="evenodd" clip-rule="evenodd" d="M11 5a6 6 0 0 0-4.687 9.746c.215.27.315.62.231.954l-.514 2.058a1 1 0 0 0 1.485 1.1l2.848-1.71c.174-.104.374-.15.576-.148H13a6 6 0 0 0 0-12h-2Z"/>
      <circle fill="white" cx="12" cy="11" r="1"/>
      <circle fill="white" cx="9" cy="11" r="1"/>
      <circle fill="white" cx="15" cy="11" r="1"/>
    </svg>
  </span>
  <span class="text">Discussion</span>
</a></li>
  </ul>
</div>

        <div class="globaltoc" data-expand-depth="0"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="keys.html">Keys</a></li>
<li class="toctree-l1"><a class="reference internal" href="cashaddr.html">CashAddr</a></li>
<li class="toctree-l1"><a class="reference internal" href="network.html">Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="node.html">Customize your node API endpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="transactions.html">Transactions</a></li>
<li class="toctree-l1"><a class="reference internal" href="cashtokens.html">CashTokens</a></li>
<li class="toctree-l1"><a class="reference internal" href="rates.html">Exchange Rates</a></li>
<li class="toctree-l1"><a class="reference internal" href="fees.html">Fees</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Advanced</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../community/faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/vulnerabilities.html">Vulnerability Disclosure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/updates.html">Stay Informed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community/authors.html">Authors</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/api.html">Developer Interface</a></li>
</ul>

        </div>
      </div>
      
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-lucid close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4">
  <div class="localtoc">
    <h3>On this page</h3>
    <ul>
<li><a class="reference internal" href="#server-integration">Server Integration</a></li>
<li><a class="reference internal" href="#offline-transactions">Offline Transactions</a></li>
<li><a class="reference internal" href="#blockchain-storage-op-return">Blockchain Storage (OP_RETURN)</a></li>
<li><a class="reference internal" href="#services-timeout">Services Timeout</a></li>
<li><a class="reference internal" href="#cache-times">Cache Times</a></li>
</ul>

  </div><a class="js-repo-stats repo-stats flex items-center" href="https://github.com/pybitcash/bitcash"
  data-type="github" data-user="pybitcash" data-repo="bitcash">
  <span class="w-8 flex items-center justify-around shrink-0 text-3xl">
    <i class="i-simpleicons github"></i>
  </span>
  <span class="flex-grow px-2">
    <span>pybitcash/bitcash</span>
    <span class="flex text-sm repo-stats-count">
      <span class="flex items-center pr-3">
        <i class="i-lucid star"></i>
        <strong class="js-repo-stars ml-1">0</strong>
      </span>
      <span class="flex items-center">
        <i class="i-lucid git-fork"></i>
        <strong class="js-repo-forks ml-1">0</strong>
      </span>
    </span>
  </span>
</a><div class="edit-this-page">
  <a href="https://github.com/pybitcash/bitcash/blob/master/docs/guide/advanced.rst">Edit this page</a>
</div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div>
    </div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
    <div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-lucid menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList">
      
      
      <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../index.html"><span itemprop="name">BitCash</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li>
      
      <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name">Advanced</strong>
        <meta itemprop="position" content="2" />
      </li>
      
      
    </ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-lucid outdent"></i>
      </button>
    </div>
  </div>
</div>
    <div class="flex flex-col break-words justify-between">
      <div class="min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
        <article class="yue" role="main">
          <section id="advanced">
<span id="id1"></span><h1>Advanced<a class="headerlink" href="#advanced" title="Link to this heading">¶</a></h1>
<section id="server-integration">
<h2>Server Integration<a class="headerlink" href="#server-integration" title="Link to this heading">¶</a></h2>
<p>If you only want to use bitcash for its raw speed to lessen the load on your
servers, you don’t have to use any of our network capabilities.</p>
<ul class="simple">
<li><p>Use <a class="reference internal" href="../dev/api.html#bitcash.PrivateKey.create_transaction" title="bitcash.PrivateKey.create_transaction"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_transaction()</span></code></a> instead of
<a class="reference internal" href="../dev/api.html#bitcash.PrivateKey.send" title="bitcash.PrivateKey.send"><code class="xref py py-func docutils literal notranslate"><span class="pre">send()</span></code></a></p></li>
<li><p>Supply <a class="reference internal" href="transactions.html#unspentparam"><span class="std std-ref">your own UTXOs</span></a></p></li>
<li><p>Set <a class="reference internal" href="transactions.html#feeparam"><span class="std std-ref">your own fee</span></a></p></li>
<li><p>Make sure all <a class="reference internal" href="transactions.html#outputsparam"><span class="std std-ref">Outputs</span></a> only use these currencies: satoshi, ubch,
mbch, or bch.</p></li>
</ul>
</section>
<section id="offline-transactions">
<span id="coldstorage"></span><h2>Offline Transactions<a class="headerlink" href="#offline-transactions" title="Link to this heading">¶</a></h2>
<p>bitcash supports the signing of transactions for keys in cold storage. First you
need to prepare a transaction while connected to the internet using the
<a class="reference internal" href="../dev/api.html#bitcash.PrivateKey.prepare_transaction" title="bitcash.PrivateKey.prepare_transaction"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_transaction()</span></code></a> class method of a private key.
You must know your address.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bitcash</span> <span class="kn">import</span> <span class="n">PrivateKeyTestnet</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bitcash.network</span> <span class="kn">import</span> <span class="n">NetworkAPI</span><span class="p">,</span> <span class="n">satoshi_to_currency</span>
</span><span data-line="3"><span class="gp">&gt;&gt;&gt;</span>
</span><span data-line="4"><span class="gp">&gt;&gt;&gt; </span><span class="n">satoshi_to_currency</span><span class="p">(</span><span class="n">NetworkAPI</span><span class="o">.</span><span class="n">get_balance_testnet</span><span class="p">(</span><span class="n">address</span><span class="p">),</span> <span class="s1">&#39;usd&#39;</span><span class="p">)</span>
</span><span data-line="5"><span class="go">&#39;833.03&#39;</span>
</span><span data-line="6"><span class="gp">&gt;&gt;&gt; </span><span class="n">tx_data</span> <span class="o">=</span> <span class="n">PrivateKeyTestnet</span><span class="o">.</span><span class="n">prepare_transaction</span><span class="p">(</span><span class="n">address</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;n2eMqTT929pb1RDNuqEnxdaLau1rxy3efi&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;jpy&#39;</span><span class="p">)])</span>
</span><span data-line="7"><span class="gp">&gt;&gt;&gt; </span><span class="n">tx_data</span>
</span><span data-line="8"><span class="go">&#39;{&quot;unspents&quot;:[{&quot;amount&quot;:80775726,&quot;confirmations&quot;:1,&quot;script&quot;:&quot;76a914990ef60d63b5b5964a1c2282061af45123e93fcb88ac&quot;,&quot;txid&quot;:&quot;c47061643341aca8665ca7e447aff8c57bc0fd61a3ef731f44642b1d9fa46d5a&quot;,&quot;txindex&quot;:1}],&quot;outputs&quot;:[[&quot;n2eMqTT929pb1RDNuqEnxdaLau1rxy3efi&quot;,861],[&quot;muUFbvTKDEokGTVUjScMhw1QF2rtv5hxCz&quot;,80720625]]}&#39;</span>
</span></pre></div>
</div>
<p>This performs validation and returns a JSON string containing all the required
information to create a transaction. You should then take this to your offline
machine and use the <a class="reference internal" href="../dev/api.html#bitcash.PrivateKey.sign_transaction" title="bitcash.PrivateKey.sign_transaction"><code class="xref py py-func docutils literal notranslate"><span class="pre">sign_transaction()</span></code></a> method of your
private key.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">tx_hex</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">sign_transaction</span><span class="p">(</span><span class="n">tx_data</span><span class="p">)</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="n">tx_hex</span>
</span><span data-line="3"><span class="go">&#39;01000000015a6da49f1d2b64441f73efa361fdc07bc5f8af47e4a75c66a8ac4133646170c4010000006a4730440220266c56a2592fbd6948f3e5d17720ad2dad57ce23a5cc0d2d4fd2315cbe5a798802203372b9b0d10e920462f9553392333e84cd8fa1d92953d0b4598888370dc187140121033d5c2875c9bd116875a71a5db64cffcb13396b163d039b1d9327824891804334ffffffff025d030000000000001976a914e7c1345fc8f87c68170b3aa798a956c2fe6a9eff88acf1b2cf04000000001976a914990ef60d63b5b5964a1c2282061af45123e93fcb88ac00000000&#39;</span>
</span></pre></div>
</div>
<p>Finally, bring this transaction back to your connected device and broadcast it.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bitcash.network</span> <span class="kn">import</span> <span class="n">NetworkAPI</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="n">NetworkAPI</span><span class="o">.</span><span class="n">broadcast_tx_testnet</span><span class="p">(</span><span class="n">tx_hex</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="blockchain-storage-op-return">
<h2>Blockchain Storage (OP_RETURN)<a class="headerlink" href="#blockchain-storage-op-return" title="Link to this heading">¶</a></h2>
<p>bitcash allows you to easily <a class="reference external" href="https://en.bitcoin.it/wiki/OP_RETURN">store messages or data</a> in the blockchain itself
using the <code class="docutils literal notranslate"><span class="pre">message</span></code> parameter of <a class="reference internal" href="../dev/api.html#bitcash.PrivateKey.create_transaction" title="bitcash.PrivateKey.create_transaction"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_transaction()</span></code></a>
or <a class="reference internal" href="../dev/api.html#bitcash.PrivateKey.send" title="bitcash.PrivateKey.send"><code class="xref py py-func docutils literal notranslate"><span class="pre">send()</span></code></a>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">key</span><span class="o">.</span><span class="n">send</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s1">&#39;Simplicity level is over 9000!!!&#39;</span><span class="p">)</span>
</span></pre></div>
</div>
<p>Messages will be encoded as UTF-8 when stored. Also, do note that the length
of each datum must not exceed 40 bytes. Therefore, your resulting byte string
will be stored in chunks to adhere to this property if it is too long.</p>
</section>
<section id="services-timeout">
<h2>Services Timeout<a class="headerlink" href="#services-timeout" title="Link to this heading">¶</a></h2>
<p>If you want to change the default timeout of 5 seconds for service API calls:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bitcash</span> <span class="kn">import</span> <span class="n">set_service_timeout</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="n">set_service_timeout</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
<section id="cache-times">
<span id="id2"></span><h2>Cache Times<a class="headerlink" href="#cache-times" title="Link to this heading">¶</a></h2>
<p>If you want to change the default cache time of exchange rates (60 seconds)
or recommended fees (10 minutes):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bitcash</span> <span class="kn">import</span> <span class="n">set_fee_cache_time</span><span class="p">,</span> <span class="n">set_rate_cache_time</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="n">set_rate_cache_time</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
</span><span data-line="3"><span class="gp">&gt;&gt;&gt; </span><span class="n">set_fee_cache_time</span><span class="p">(</span><span class="mi">60</span> <span class="o">*</span> <span class="mi">5</span><span class="p">)</span>
</span></pre></div>
</div>
</section>
</section>

        </article>
        <button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>Back to top</span>
</button>
        
        <div class="navigation flex print:hidden">
  <div class="navigation-prev">
    <a href="fees.html">
      <i class="i-lucid chevron"></i>
      <div class="page-info">
        <span>Previous</span>
        
        <div class="title">Fees</div>
        
      </div>
    </a>
  </div>
  <div class="navigation-next">
    <a href="../community/faq.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title">Frequently Asked Questions</div>
      </div>
      <i class="i-lucid chevron"></i>
    </a>
  </div>
</div>
        
      </div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2024, BitCash</p>
  
  <p>
    Made with
    
    <a href="https://www.sphinx-doc.org/">Sphinx</a> and
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials">
  <a href="https://github.com/pybitcash/bitcash" aria-label="GitHub"><i class="i-simpleicons github"></i></a>
  <a href="https://twitter.com/merc1er" aria-label="X (Twitter)"><i class="i-simpleicons x-twitter"></i></a>
</div>
    </div>
  </div>
</footer></div>
      <script src="../_static/documentation_options.js?v=fc837d61"></script>
      <script src="../_static/doctools.js?v=888ff710"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=f281be69"></script>
      <script src="../_static/shibuya.js?v=9aab5f5b"></script>
    
</body>
</html>